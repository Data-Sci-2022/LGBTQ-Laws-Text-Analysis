# Introduction
  After substantial legal improvement for the rights of those in the LGBTQ+ community in the last few years, current legislation is being filed at the state level that seeks to strip those rights away. While there are recent bills making headlines like the “Don’t Say Gay” bill in Florida, there are many more laws being presented in more than half of the US that have not captured as much national attention. There are organizations that are dedicated to highlighting these issues and fighting for marginalized groups to maintain their freedom and legal protection. [Freedom for All Americans](https://freedomforallamericans.org/legislative-tracker/) is one such organization. Their website tracks current legislation, both laws fighting for gay rights and laws looking to undo recent progress. In addition to sites like “Freedom,” there are other sites that look at legal protections and public opinions of those in the LGBTQ+ community. [Equaldex](https://www.equaldex.com/equality-index) has assessed these metrics domestically and internationally. [Movement Advancement Project (MAP)](https://www.lgbtmap.org/equality-maps) has traced seven different facets of LGBTQ+ policy on gender identity and sexual orientation to evaluate states’ performances in regards to gender identity (GI) and sexual orientation (SO). When I paired these sites that measured how each US state ranked on its treatment of LGBTQ+ Americans with the ability to view current legislation on queer issues, two research question resounded: what is the connection between the language that state legislator’s use in legislation and the state’s rank of equality for its queer population? And, how does language use differ based on the stance of the legislation? 

# Data Collection
	Acquiring the text data to analyze had several steps: I had to gather the pro- and anti-legislation lists from Freedom for All Americans’ website, which linked [BillTrack50's](https://www.billtrack50.com/) website which had the links to each state’s website where the legislation PDF text was stored. Each step required scraping one site to feed the next scraping. I used the `rvest` package to scrape all sites with the exception of Freedom for All Americans. The legislation lists on Freedom’s site was generated as a widget so traditional web scraping through `rvest` was unable to pull the data. Ultimately a JavaScript code had to be run individually on each state to pull all current legislation and relevant information. The JavaScript saved each table into a CSV file which was then imported into R and converted into a tibble. I used `pdftools` to read the PDFs into R directly from each state’s website. There was a total of 39 states that had current legislation, however Indiana, South Dakota, and Washington PDFs could not be gathered due to server issues and PDF processing issues. Therefore, these were dropped from the present analysis. I used the `tidytext` package to tokenize the texts and count tokens.

# Results and Analysis
  There are topical words that occur in both corpora, but their usage differs. These words include ‘gender’, ‘sex’, ‘orientation’, and ‘identity.’ One of the most frequent words for anti LGBTQ+ legislation is ‘education’ which indicates what this legislation is targeting: what topics can be discussed in schools. 
  Both 'sex' and 'gender' had a very small, slightly negative correlation between states and Equaldex index. ‘Sex’ and ‘gender’ were chosen because I believe that they were used differently depending on whether the legislation was pro- or anti-LGBTQ+, additionally the two words were used frequently across both sets of legislation. However, based on these graphs below, it is clear that anti-legislation uses ‘sex’ more than ‘gender’, and pro-legislation uses both to varying degrees. 

!(/data_visualization/unigram-plot-sex-1.png)
!(/data_visualization/unigram-plot-gender-1.png)

My intuition was that anti-legislation would be using ‘sex’ in the context of ‘biological sex.’ This proved to be true to an extent, it was the 14th most common bigram with ‘sex’ in it. However, some of the other bigrams were likely separated by punctuation or are paired with function words, so several of these can be discarded as they are not as indicative of the context of ‘sex’. Other context of ‘sex’ indicates a focus on ‘biological sex,’ both ‘secondary sex characteristics’ and ‘sex hormones’ are frequent contexts. Pro-legislation uses ‘sex’ with other words that is likely a list of categories that are to be protected such as ‘race’, ‘disability’, ‘age’, ‘religion’, and ‘color’.
	Specific orientations (gay, bisexual, homosexual, heterosexual) were barely included in the texts and were only present in anti-LGBTQ+ legislation. ‘Transgender’ is used more frequently and is only present in anti legislation. When this is considered with the frequency of ‘biological sex’ and other related bigrams, it is clear that these bills are targeting transgender people more than other members of the LGBTQ+ community.
  In addition to the topic words relating to my line of research, ‘race’ is included in some bill text and was one of the top 10 raw frequency counts for anti-legislation, some of seem to be focusing on Critical Race Theory as well as LGTBQ+ issues in schools. The analysis of CRT in schools and any relation to LGBTQ+ issues is outside the scope of the current analysis, but is worth future scholarship.

# Conclusion
  Regarding my first research question: “what is the connection between the language that state legislator’s use in legislation and the state’s rank of equality for its queer population?” on the basis of usage of ‘sex’ and ‘gender’ there is not a significant statistical connection between these words and the state’s equality index. However, as the qualitative discussion of these texts indicate, there is a clear difference between the language used based on the stance of the legislation. 

# Process Notes
  Finding the appropriate way to scrape the data delayed a lot of the further work on the project. What ended up working was using JavaScript to collect the necessary information from Freedom for All Americans website to be able to further access the necessary information on BillTrack50’s website. After I was able to access that, it was a matter of working with the code to pull all the information into R which ended up needing to be run in multiple smaller chunks because `rvest` was unable to scrape every single BillTrack50 page in one round. Accessing the PDFs from every state’s website also ended up needing to be broken into smaller chunks. While running the code in smaller chunks was ultimately successful it was time-consuming and resulted in more R data objects to be used. Additionally, I ran into issues when reading the PDFs into text in R because there were either issues with the URL/server or the PDF could not be read successfully. This resulted in a few states bills not being included in the final analysis. I did not end up making any major changes to the project once I had decided on the formal project plan, however one small change that I made last minute was deciding to focus in on a set list of words. These were words that were very topical as well as some words that occurred in high frequencies. This helped with running the correlation tests that I had aimed to do from the start.
